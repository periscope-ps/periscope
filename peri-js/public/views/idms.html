<h2 class="lead text-center">IDMS</h2>

<div class="table-responsive">
  <table class="table table-hover table-condensed">
    <colgroup>
      <col span="1" style="width: 25%;">
      <col span="1" style="width: 25%;">
      <col span="1" style="width: 25%;">
      <col span="1" style="width: 25%;">
    </colgroup>
    <tr>
      <th>Access Point</th>
      <th>Status</th>
      <th>Running On Node</th>
      <th>Timestamp</th>
    </tr>
    <tbody ng-repeat="service in services | unique:'id' | orderBy:'-ts'">
      <td>{{ service.accessPoint }}</td>
      <td>
        <button ng-show="service.status === 'ON'" class="btn btn-success disabled">ON</button>
        <button ng-show="service.status === undefined || service.status === 'OFF'" class="btn btn-danger disabled">OFF</button>
      </td>
      <td>{{ getServiceNode(service.accessPoint) }}</td>
      <td>{{ service.ts}}</td>
      <!-- <td>{{ service.ts * 1000 | date:'yyyy-MM-d (EEE) @ h:m:s.sss a Z'}}</td> -->
      <!-- <td>{{ getServiceMeasurement(service.accessPoint) }}</td> -->
      <tr>
        <td colspan="2" ng-repeat="eventType in getServiceMeasurement(service.accessPoint)">{{eventType}}</td>
      </tr>
      <tr>
        <td colspan="2" ng-repeat="metadata in getServiceMetadata(service.accessPoint)">{{metadata}}</td>
      </tr>
    </tbody>
  </table>
</div>
